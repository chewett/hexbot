<!doctype html>
<html lang="en">
<head>
    <meta name="author" content="Christopher Hewett">
    <title>Noops Hexbot Challenge</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <style>
        #mainDiv {
            padding: 30vh 0;
            text-align: center;
            width: 100%;
            height: 100%;
            font-family: sans-serif;
        }
        #colourCode {
            font-size: 20vh;
        }

        #colourOfMinuteText {
            font-size: 5em;
        }

    </style>
</head>
<body>

<div id="mainDiv">

    <span id="colourOfMinuteText">
        Colour of the minute:
    </span>
    <br />

    <span id="colourCode">
        Loading...
    </span>
</div>

<script>

function fetchNewColour() {
    window
        .fetch('https://api.noopschallenge.com/hexbot')
        .then(function (response) {
            return response.json();
        })
        .then(function (myJson) {
            var singleColour = myJson['colors'][0]['value'];


            $("body").css("background-color", singleColour);
            $("#colourCode").text(singleColour);
        });
}

window.onload = function() {
    fetchNewColour();
    setInterval(fetchNewColour, 60000);
}

</script>
</body>
</html>